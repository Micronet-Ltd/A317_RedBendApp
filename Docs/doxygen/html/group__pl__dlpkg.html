<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Software Management Client: Download Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="redbend.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="redbend.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Software Management Client
   &#160;<span id="projectnumber">vdm-10.2.1.7-11-g6fea318</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__pl__dlpkg.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Download Package</div>  </div>
<div class="ingroups"><a class="el" href="group__pl.html">Porting Layer API</a></div></div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Download Package:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__pl__dlpkg.png" border="0" alt="" usemap="#group____pl____dlpkg"/>
<map name="group____pl____dlpkg" id="group____pl____dlpkg">
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacf5832a3710673a2f068aeb69a3fd9df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#gacf5832a3710673a2f068aeb69a3fd9df">VDM_Client_PL_Dlpkg_setFullPath</a> (const char *inPkgPath)</td></tr>
<tr class="memitem:ga95b6530aa962f807775ae3fcb96349b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#ga95b6530aa962f807775ae3fcb96349b4">VDM_Client_PL_Dlpkg_clearFullPath</a> (void)</td></tr>
<tr class="memitem:gade9cc9659875c8ef51656475ff96b23f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#gade9cc9659875c8ef51656475ff96b23f">VDM_Client_PL_Dlpkg_create</a> (<a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a> inURI, char **outDlpkgHandle)</td></tr>
<tr class="memitem:gac5fa36a2179c5fd1dedbf02d31b6cabd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#gac5fa36a2179c5fd1dedbf02d31b6cabd">VDM_Client_PL_Dlpkg_writeChunk</a> (const char *inDlpkgHandle, <a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> inOffset, <a class="el" href="vdm__pl__types_8h.html#ab15a19eb300c109e1d94e2b234454126">IU8</a> *inData, <a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> inDataSize, <a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *outOffset)</td></tr>
<tr class="memitem:gac49b097ab92a69cbc893d76eefc09ce6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#gac49b097ab92a69cbc893d76eefc09ce6">VDM_Client_PL_Dlpkg_getPkgSize</a> (const char *inURI, <a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *outSize)</td></tr>
<tr class="memitem:ga9f60fd7633e77aaff23a4332f44685af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#ga9f60fd7633e77aaff23a4332f44685af">VDM_Client_PL_Dlpkg_remove</a> (const char *inDlpkgHandle)</td></tr>
<tr class="memitem:gaf9ebf4cb2dd09ef30aff52c082046cd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pl__dlpkg.html#gaf9ebf4cb2dd09ef30aff52c082046cd1">VDM_Client_PL_Dlpkg_getMaxSize</a> (<a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *outDlpkgMaxSize)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<h2>Function Documentation</h2>
<a class="anchor" id="ga95b6530aa962f807775ae3fcb96349b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_clearFullPath </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the full path to the directory that contains the DP file.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__pl__dlpkg.html#gacf5832a3710673a2f068aeb69a3fd9df">VDM_Client_PL_Dlpkg_setFullPath</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="gade9cc9659875c8ef51656475ff96b23f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a>&#160;</td>
          <td class="paramname"><em>inURI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>outDlpkgHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a download package handler.</p>
<p>OMA DM Protocol Engine passes the URI node in the DM Tree of the download package as an optional parameter, which can be used to create a string handle for the package, such as a filename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inURI</td><td>A URI string set by the caller; use this string to create a file name, if desired </td></tr>
    <tr><td class="paramname">outDlpkgHandle</td><td>The handle to a new download package<br/>
 The handle can be the full path and file name of the file, or any other string id if not using a file system. This string will later be used to identify the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The caller must free the allocated string.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="gaf9ebf4cb2dd09ef30aff52c082046cd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_getMaxSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *&#160;</td>
          <td class="paramname"><em>outDlpkgMaxSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the maximum size available for a download package. Before downloading a package, OMA DM Protocol Engine verifies that there is enough storage space for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outDlpkgMaxSize</td><td>The maximum size available for a download package</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="gac49b097ab92a69cbc893d76eefc09ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_getPkgSize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inURI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *&#160;</td>
          <td class="paramname"><em>outSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the size of the current package in storage.</p>
<p>Before resuming a package download OMA DM Protocol Engine synchronizes between the information stored in dlresume.dat and the actual downloaded upadate package (DP) size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inURI</td><td>The download package uri sent to VDM_Client_PL_Dlpkg_create </td></tr>
    <tr><td class="paramname">outSize</td><td>The size of the package part downloaded so far, in bytes count. This value will be 0 if the package is not found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga9f60fd7633e77aaff23a4332f44685af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inDlpkgHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a download package from device.</p>
<p>When the package is fully downloaded, OMA DM Protocol Engine notifies the DM Client application for processing. Once the update is complete, the DM Client application can remove the package. OMA DM Protocol Engine will always try to remove the package when it receives notification that processing is finished by calling this API. Therefore, if the package doesn't exist, the API must assume that the DM Client application removed it and return success (VDM_ERR_OK).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inDlpkgHandle</td><td>The download package handle returned in <a class="el" href="group__pl__dlpkg.html#gade9cc9659875c8ef51656475ff96b23f">VDM_Client_PL_Dlpkg_create</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="gacf5832a3710673a2f068aeb69a3fd9df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_setFullPath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inPkgPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the full path to the directory that contains the DP file. Use on platforms that support a file system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inPkgPath</td><td>Full path to the directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
<a class="anchor" id="gac5fa36a2179c5fd1dedbf02d31b6cabd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vdm__error_8h.html#ae9843e464f86f2c4ee7bd43733b61ab3">VDM_Error</a> VDM_Client_PL_Dlpkg_writeChunk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inDlpkgHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a>&#160;</td>
          <td class="paramname"><em>inOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#ab15a19eb300c109e1d94e2b234454126">IU8</a> *&#160;</td>
          <td class="paramname"><em>inData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a>&#160;</td>
          <td class="paramname"><em>inDataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a9780b620d4bf5bee153ead1f3e3c11dc">IU32</a> *&#160;</td>
          <td class="paramname"><em>outOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the next chunk of bytes from a current Download session.</p>
<p>A package is normally downloaded in chunks. For each chunk, OMA DM Protocol Engine passes the data, the chunk size, and its offset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inDlpkgHandle</td><td>The download package handle returned in <a class="el" href="group__pl__dlpkg.html#gade9cc9659875c8ef51656475ff96b23f">VDM_Client_PL_Dlpkg_create</a> </td></tr>
    <tr><td class="paramname">inOffset</td><td>The offset within the download to write the data chunk </td></tr>
    <tr><td class="paramname">inData</td><td>The data to write </td></tr>
    <tr><td class="paramname">inDataSize</td><td>The size of <em>inData</em>, in bytes </td></tr>
    <tr><td class="paramname">outOffset</td><td>The actual size of file that was written to the disk (in bytes).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VDM_ERR_OK on success, or a <a class="el" href="group___v_d_m___e_r_r__defs.html">Errors</a> error code </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright (c) 1999-2015 Redbend. All Rights Reserved. Generated on Mon Jul 11 2016 14:22:54 for Software Management Client by
    <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
