<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Software Management Client: vdm_sessioncontext.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="redbend.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="redbend.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Software Management Client
   &#160;<span id="projectnumber">vdm-10.2.1.7-11-g6fea318</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vdm__sessioncontext_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vdm_sessioncontext.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Session Context API.  
<a href="#details">More...</a></p>

<p><a href="vdm__sessioncontext_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd80cbe21f53b163dd80740564e2b922"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdm__sessioncontext_8h.html#abd80cbe21f53b163dd80740564e2b922">VDM_createSessionContext</a> (<a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a> inInitiatorId, void *inData)</td></tr>
<tr class="memitem:ac2149ec64f738cd9e9eea71b940cd1eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdm__sessioncontext_8h.html#ac2149ec64f738cd9e9eea71b940cd1eb">VDM_createSessionContextEx</a> (<a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a> inInitiatorId, void *inData, char *inSessionKey)</td></tr>
<tr class="memitem:a081b50a4c078cbd9d9f33a11f90d28eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdm__sessioncontext_8h.html#a081b50a4c078cbd9d9f33a11f90d28eb">VDM_destroySessionContext</a> (<a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a> **ioSessionContext)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Session Context API. </p>
<p>A session context object is used as a parameter to all session triggering APIs. The session context is later passed as a parameter of all session state observers via the callback <a class="el" href="vdm__types_8h.html#ae08673e21f0f584ad8d12680a7d7fbdb">VDM_SessionStateNotifyCB</a>. </p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="abd80cbe21f53b163dd80740564e2b922"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a>* VDM_createSessionContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a>&#160;</td>
          <td class="paramname"><em>inInitiatorId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>inData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a session context object. This is a utility API that allocates a session context object that is used as a parameter to all session triggering APIs.</p>
<p>The caller owns <em>inData</em> and is responsible to free it when the session completes successfully or aborts. The allocated memory will be de-allocated by OMA DM Protocol Engine after all observers have been notified that a session has completed or aborted.</p>
<dl class="section note"><dt>Note</dt><dd>The session initiator can free the memory allocated for the session context when there is a session state notification, when other observers have not yet been notified. In this case, the session context must be set to NULL so that OMA DM Protocol Engine does not try to free the memory. It is recommended to use <a class="el" href="vdm__sessioncontext_8h.html#a081b50a4c078cbd9d9f33a11f90d28eb">VDM_destroySessionContext</a> to destroy the session context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inInitiatorId</td><td>A unique string that identifies the session initiator. This id may be later used for a session state notification, so that a session state observer can identify itself from other initiators. In order to avoid ambuguity in names, it is recommended that you name use {Prod}_{Comp}_{Instance} where: {Prod} is the product name, {Comp} is the component name, and {Instance} is a unique identifier of the component instance. For example, for FUMO component where the FUMO root node is "./FwUpdate/Flash", the corresponding initiator id string should be: "VDM_FUMO_./FwUpdate/Flash". </td></tr>
    <tr><td class="paramname">inData</td><td>Opaque context that can be used by the session state observer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The session context, or NULL on error </dd></dl>

</div>
</div>
<a class="anchor" id="ac2149ec64f738cd9e9eea71b940cd1eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a>* VDM_createSessionContextEx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vdm__pl__types_8h.html#a7c82ec5cafc76400a01bd259b07dfd13">UTF8CStr</a>&#160;</td>
          <td class="paramname"><em>inInitiatorId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>inData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>inSessionKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a session context object. This is a utility API that allocates a session context object that is used as a parameter to all session triggering APIs.</p>
<p>The caller owns <em>inData</em> and is responsible to free it when the session completes successfully or aborts. The allocated memory will be de-allocated by OMA DM Protocol Engine after all observers have been notified that a session has completed or aborted.</p>
<dl class="section note"><dt>Note</dt><dd>The session initiator can free the memory allocated for the session context when there is a session state notification, when other observers have not yet been notified. In this case, the session context must be set to NULL so that OMA DM Protocol Engine does not try to free the memory. It is recommended to use <a class="el" href="vdm__sessioncontext_8h.html#a081b50a4c078cbd9d9f33a11f90d28eb">VDM_destroySessionContext</a> to destroy the session context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inInitiatorId</td><td>A unique string that identifies the session initiator. This id may be later used for a session state notification, so that a session state observer can identify itself from other initiators. In order to avoid ambiguity in names, it is recommended that you name use {Prod}_{Comp}_{Instance} where: {Prod} is the product name, {Comp} is the component name, and {Instance} is a unique identifier of the component instance. For example, for FUMO component where the FUMO root node is "./FwUpdate/Flash", the corresponding initiator id string should be: "VDM_FUMO_./FwUpdate/Flash". </td></tr>
    <tr><td class="paramname">inData</td><td>Opaque context that can be used by the session state observer. </td></tr>
    <tr><td class="paramname">inSessionKey</td><td>Unique identifier for session (DP NAME)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The session context, or NULL on error </dd></dl>

</div>
</div>
<a class="anchor" id="a081b50a4c078cbd9d9f33a11f90d28eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VDM_destroySessionContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_v_d_m___session_context__t.html">VDM_SessionContext_t</a> **&#160;</td>
          <td class="paramname"><em>ioSessionContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a session context object.</p>
<p>De-allocate a session context object and set it to NULL. The function does not free memory of the object's opaque data context. It is the responsibility of the caller to free the memory of that member prior to calling this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioSessionContext</td><td>Input: The object to destroy. Output: NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_947539a5c03a5c3f77fd41816fa36785.html">build_output</a></li><li class="navelem"><a class="el" href="dir_1ce55e02aecb5b2b4b19f59fffd473c2.html">temp_headers_files</a></li><li class="navelem"><a class="el" href="vdm__sessioncontext_8h.html">vdm_sessioncontext.h</a></li>
    <li class="footer">Copyright (c) 1999-2015 Redbend. All Rights Reserved. Generated on Mon Jul 11 2016 14:22:54 for Software Management Client by
    <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
